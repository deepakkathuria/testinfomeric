{"version":3,"file":"react-calendar.cjs.production.min.js","sources":["../src/Monthly/MonthlyCalendar.tsx","../src/shared.ts","../src/Monthly/MonthlyBody.tsx","../src/Weekly/WeeklyCalendar.tsx","../src/Monthly/MonthlyEventItems.tsx","../src/Weekly/WeeklyEventItems.tsx"],"sourcesContent":["import {\n  eachDayOfInterval,\n  startOfMonth,\n  endOfMonth,\n  format,\n  subMonths,\n  addMonths,\n  getYear,\n} from 'date-fns';\nimport React, { ReactNode, useContext } from 'react';\n\ntype CalendarState = {\n  days: Date[];\n  currentMonth: Date;\n  locale?: Locale;\n  onCurrentMonthChange: (date: Date) => any;\n};\n\nconst MonthlyCalendarContext = React.createContext<CalendarState>(\n  {} as CalendarState\n);\n\nexport const useMonthlyCalendar = () => useContext(MonthlyCalendarContext);\n\ntype Props = {\n  locale?: Locale;\n  children: ReactNode;\n  currentMonth: Date;\n  onCurrentMonthChange: (date: Date) => any;\n};\n\nexport const MonthlyCalendar = ({\n  locale,\n  currentMonth,\n  onCurrentMonthChange,\n  children,\n}: Props) => {\n  let monthStart = startOfMonth(currentMonth);\n  let days = eachDayOfInterval({\n    start: monthStart,\n    end: endOfMonth(monthStart),\n  });\n\n  return (\n    <MonthlyCalendarContext.Provider\n      value={{\n        days,\n        locale,\n        onCurrentMonthChange,\n        currentMonth: monthStart,\n      }}\n    >\n      {children}\n    </MonthlyCalendarContext.Provider>\n  );\n};\n\nexport const MonthlyNav = () => {\n  let { locale, currentMonth, onCurrentMonthChange } = useMonthlyCalendar();\n\n  return (\n    <div className=\"rc-flex rc-justify-end rc-mb-4\">\n      <button\n        onClick={() => onCurrentMonthChange(subMonths(currentMonth, 1))}\n        className=\"rc-cursor-pointer\"\n      >\n        Previous\n      </button>\n      <div\n        className=\"rc-ml-4 rc-mr-4 rc-w-32 rc-text-center\"\n        aria-label=\"Current Month\"\n      >\n        {format(\n          currentMonth,\n          getYear(currentMonth) === getYear(new Date()) ? 'LLLL' : 'LLLL yyyy',\n          { locale }\n        )}\n      </div>\n      <button\n        onClick={() => onCurrentMonthChange(addMonths(currentMonth, 1))}\n        className=\"rc-cursor-pointer\"\n      >\n        Next\n      </button>\n    </div>\n  );\n};\n","import { Locale } from 'date-fns';\nimport { enUS } from 'date-fns/locale';\n\ntype DaysInWeekProps = {\n  locale?: Locale;\n};\n\nexport const daysInWeek = ({ locale = enUS }: DaysInWeekProps) => [\n  { day: 0, label: locale.localize?.day(0) },\n  { day: 1, label: locale.localize?.day(1) },\n  { day: 2, label: locale.localize?.day(2) },\n  { day: 3, label: locale.localize?.day(3) },\n  { day: 4, label: locale.localize?.day(4) },\n  { day: 5, label: locale.localize?.day(5) },\n  { day: 6, label: locale.localize?.day(6) },\n];\n","import React, { ReactNode, useContext } from 'react';\nimport { useMonthlyCalendar } from './MonthlyCalendar';\nimport { daysInWeek } from '../shared';\nimport { format, getDay, isSameDay, Locale } from 'date-fns';\n\nconst MonthlyBodyContext = React.createContext({} as any);\ntype BodyState<DayData> = {\n  day: Date;\n  events: DayData[];\n};\n\nexport function useMonthlyBody<DayData>() {\n  return useContext<BodyState<DayData>>(MonthlyBodyContext);\n}\n\ntype OmittedDaysProps = {\n  days: Date[];\n  omitDays?: number[];\n  locale?: Locale;\n};\n\nexport const handleOmittedDays = ({\n  days,\n  omitDays,\n  locale,\n}: OmittedDaysProps) => {\n  let headings = daysInWeek({ locale });\n  let daysToRender = days;\n\n  //omit the headings and days of the week that were passed in\n  if (omitDays) {\n    headings = daysInWeek({ locale }).filter(\n      day => !omitDays.includes(day.day)\n    );\n    daysToRender = days.filter(day => !omitDays.includes(getDay(day)));\n  }\n\n  // omit the padding if an omitted day was before the start of the month\n  let firstDayOfMonth = getDay(daysToRender[0]) as number;\n  if (omitDays) {\n    let subtractOmittedDays = omitDays.filter(day => day < firstDayOfMonth)\n      .length;\n    firstDayOfMonth = firstDayOfMonth - subtractOmittedDays;\n  }\n  let padding = new Array(firstDayOfMonth).fill(0);\n\n  return { headings, daysToRender, padding };\n};\n\n//to prevent these from being purged in production, we make a lookup object\nconst headingClasses = {\n  l3: 'lg:rc-grid-cols-3',\n  l4: 'lg:rc-grid-cols-4',\n  l5: 'lg:rc-grid-cols-5',\n  l6: 'lg:rc-grid-cols-6',\n  l7: 'lg:rc-grid-cols-7',\n};\n\ntype MonthlyBodyProps<DayData> = {\n  /*\n    skip days, an array of days, starts at sunday (0), saturday is 6\n    ex: [0,6] would remove sunday and saturday from rendering\n  */\n  omitDays?: number[];\n  events: (DayData & { date: Date })[];\n  children: ReactNode;\n};\n\nexport function MonthlyBody<DayData>({\n  omitDays,\n  events,\n  children,\n}: MonthlyBodyProps<DayData>) {\n  let { days, locale } = useMonthlyCalendar();\n  let { headings, daysToRender, padding } = handleOmittedDays({\n    days,\n    omitDays,\n    locale,\n  });\n\n  let headingClassName =\n    'rc-border-b-2 rc-p-2 rc-border-r-2 lg:rc-block rc-hidden';\n  return (\n    <div className=\"rc-bg-white rc-border-l-2 rc-border-t-2\">\n      <div\n        className={`rc-grid rc-grid-cols-1 sm:rc-grid-cols-2 md:rc-grid-cols-4 ${\n          //@ts-ignore\n          headingClasses[`l${headings.length}`]\n        }`}\n      >\n        {headings.map(day => (\n          <div\n            key={day.day}\n            className={headingClassName}\n            aria-label=\"Day of Week\"\n          >\n            {day.label}\n          </div>\n        ))}\n        {padding.map((_, index) => (\n          <div\n            key={index}\n            className={headingClassName}\n            aria-label=\"Empty Day\"\n          />\n        ))}\n        {daysToRender.map(day => (\n          <MonthlyBodyContext.Provider\n            key={day.toISOString()}\n            value={{\n              day,\n              events: events.filter(data => isSameDay(data.date, day)),\n            }}\n          >\n            {children}\n          </MonthlyBodyContext.Provider>\n        ))}\n      </div>\n    </div>\n  );\n}\n\ntype MonthlyDayProps<DayData> = {\n  renderDay: (events: DayData[]) => ReactNode;\n};\nexport function MonthlyDay<DayData>({ renderDay }: MonthlyDayProps<DayData>) {\n  let { locale } = useMonthlyCalendar();\n  let { day, events } = useMonthlyBody<DayData>();\n  let dayNumber = format(day, 'd', { locale });\n\n  return (\n    <div\n      aria-label={`Events for day ${dayNumber}`}\n      className=\"rc-h-48 rc-p-2 rc-border-b-2 rc-border-r-2\"\n    >\n      <div className=\"rc-flex rc-justify-between\">\n        <div className=\"rc-font-bold\">{dayNumber}</div>\n        <div className=\"lg:rc-hidden rc-block\">\n          {format(day, 'EEEE', { locale })}\n        </div>\n      </div>\n      <ul className=\"rc-divide-gray-200 rc-divide-y rc-overflow-hidden rc-max-h-36 rc-overflow-y-auto\">\n        {renderDay(events)}\n      </ul>\n    </div>\n  );\n}\n","import {\n  startOfWeek,\n  format,\n  isSameDay,\n  getDay,\n  setDay,\n  isSameWeek,\n} from 'date-fns';\nimport React, {\n  CSSProperties,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { daysInWeek } from '../shared';\n\ntype State = {\n  week: Date;\n  selectedDay?: Date;\n  locale?: Locale;\n  changeSelectedDay: (day?: Date) => any;\n};\n\nconst WeeklyContext = React.createContext<State>({} as State);\nexport const useWeeklyCalendar = () => useContext(WeeklyContext);\n\ntype WeeklyCalendarProps = {\n  week: Date;\n  children: ReactNode;\n  locale?: Locale;\n};\n\nexport const WeeklyCalendar = ({\n  locale,\n  week,\n  children,\n}: WeeklyCalendarProps) => {\n  let [selectedDay, setSelectedDay] = useState<Date>();\n\n  //clear the selected day if the week changes\n  useEffect(() => {\n    setSelectedDay(undefined);\n  }, [week]);\n\n  return (\n    <WeeklyContext.Provider\n      value={{\n        locale,\n        selectedDay,\n        week: startOfWeek(week),\n        changeSelectedDay: setSelectedDay,\n      }}\n    >\n      {children}\n    </WeeklyContext.Provider>\n  );\n};\n\ntype WeeklyContainerProps = {\n  children: ReactNode;\n};\nexport const WeeklyContainer = ({ children }: WeeklyContainerProps) => {\n  return <div className=\"md:rc-flex md:rc-justify-between\">{children}</div>;\n};\n\ntype DayButtonProps = {\n  day: { day: number; label: string };\n};\n\nconst DayButton = ({ day }: DayButtonProps) => {\n  let { locale, week, selectedDay, changeSelectedDay } = useWeeklyCalendar();\n  let isSelected = selectedDay ? getDay(selectedDay) === day.day : false;\n  let currentDate = setDay(week, day.day, { locale });\n  return (\n    <li\n      onClick={() => changeSelectedDay(isSelected ? undefined : currentDate)}\n      className=\"rc-bg-white rc-cursor-pointer\"\n      aria-label=\"Day of Week\"\n    >\n      <div\n        className={`rc-rounded-lg rc-border sm:rc-w-36 rc-text-center rc-py-4 ${\n          isSelected\n            ? 'rc-border-indigo-600'\n            : 'rc-border-gray-300 hover:rc-border-gray-500'\n        }`}\n      >\n        <p className=\"rc-font-medium rc-text-sm rc-text-gray-800\">\n          {day.label} {format(currentDate, 'do', { locale })}\n        </p>\n      </div>\n    </li>\n  );\n};\n\ntype WeeklyDaysProps = {\n  omitDays?: number[];\n};\n\nexport const WeeklyDays = ({ omitDays }: WeeklyDaysProps) => {\n  let { locale } = useWeeklyCalendar();\n  let daysToRender = daysInWeek({ locale });\n\n  if (omitDays) {\n    daysToRender = daysInWeek({ locale }).filter(\n      day => !omitDays.includes(day.day)\n    );\n  }\n  return (\n    <ul className=\"rc-grid md:rc-grid-cols-1 rc-grid-cols-2 rc-gap-2\">\n      {daysToRender.map(day => (\n        <DayButton key={day.day} day={day} />\n      ))}\n    </ul>\n  );\n};\n\ntype RenderItemProps<EventItem> = {\n  item: EventItem & { date: Date };\n  /*\n    boolean indicating if a full week is being shwown\n    vs having a single day selected\n  */\n  showingFullWeek: boolean;\n};\n\ntype WeeklyBodyProps<EventItem> = {\n  style?: CSSProperties;\n  events: (EventItem & { date: Date })[];\n  renderItem: (item: RenderItemProps<EventItem>) => ReactNode;\n};\n\nexport function WeeklyBody<EventItem>({\n  events,\n  renderItem,\n  style,\n}: WeeklyBodyProps<EventItem>) {\n  let { week, selectedDay } = useWeeklyCalendar();\n  return (\n    <div className=\"rc-overflow-auto rc-max-h-96\" style={style}>\n      <ul className=\"rc-divide-y rc-divide-gray-200 \">\n        {events.map(item => {\n          // If they select a single day, filter out events for different days\n          if (selectedDay) {\n            if (!isSameDay(selectedDay, item.date)) return null;\n          }\n          //if an event is for a different week, filter it out\n          if (!isSameWeek(week, item.date)) return null;\n\n          //return the remeaining events!\n          return renderItem({\n            item,\n            showingFullWeek: selectedDay === undefined,\n          });\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport const WeeklyResponsiveContainer = ({\n  children,\n}: {\n  children: ReactNode;\n}) => {\n  return (\n    <div className=\"rc-border rc-p-4 md:rc-w-3/4 lg:rc-w-1/2 rc-w-full\">\n      {children}\n    </div>\n  );\n};\n","import React from 'react';\n\n/*\n  Over time there may be more useful event item components that can be included\n  in the library\n*/\n\ntype DefaultEventItemProps = {\n  title: string;\n  date: string;\n};\n\nexport const DefaultMonthlyEventItem = ({\n  title,\n  date,\n}: DefaultEventItemProps) => {\n  return (\n    <li className=\"rc-py-2\">\n      <div className=\"rc-flex rc-text-sm rc-flex-1 rc-justify-between\">\n        <h3 className=\"rc-font-medium\">{title}</h3>\n        <p className=\"rc-text-gray-500\">{date}</p>\n      </div>\n    </li>\n  );\n};\n","import React from 'react';\n\n/*\n  Over time there may be more useful event item components that can be included\n  in the library\n*/\n\ntype DefaultWeeklyEventItemProps = {\n  title: string;\n  date: string;\n};\n\nexport const DefaultWeeklyEventItem = ({\n  title,\n  date,\n}: DefaultWeeklyEventItemProps) => {\n  return (\n    <li className=\"rc-py-4 rc-w-72\">\n      <div className=\"rc-text-sm rc-flex rc-justify-between\">\n        <h3 className=\"rc-font-medium\">{title}</h3>\n        <p className=\"rc-text-gray-500\">{date}</p>\n      </div>\n    </li>\n  );\n};\n"],"names":["MonthlyCalendarContext","React","createContext","useMonthlyCalendar","useContext","daysInWeek","locale","enUS","day","label","localize","_locale$localize","_locale$localize2","_locale$localize3","_locale$localize4","_locale$localize5","_locale$localize6","_locale$localize7","MonthlyBodyContext","useMonthlyBody","handleOmittedDays","days","omitDays","headings","daysToRender","filter","includes","getDay","firstDayOfMonth","subtractOmittedDays","length","padding","Array","fill","headingClasses","l3","l4","l5","l6","l7","WeeklyContext","useWeeklyCalendar","DayButton","week","selectedDay","changeSelectedDay","isSelected","currentDate","setDay","onClick","undefined","className","format","date","title","events","children","headingClassName","map","key","_","index","Provider","toISOString","value","data","isSameDay","onCurrentMonthChange","monthStart","startOfMonth","currentMonth","eachDayOfInterval","start","end","endOfMonth","renderDay","dayNumber","subMonths","getYear","Date","addMonths","renderItem","style","item","isSameWeek","showingFullWeek","useState","setSelectedDay","useEffect","startOfWeek"],"mappings":"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"}